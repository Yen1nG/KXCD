{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\projects\\\\KXCD\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport * as questions from './questionsJson.json';\nimport TextField from '@material-ui/core/TextField';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport * as _ from 'lodash';\nimport * as $ from 'jquery';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      matches: []\n    };\n    this.updateTerm = this.updateTerm.bind(this);\n    this.search = this.search.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  updateTerm(e) {\n    var term = e.target.value;\n    this.setState({\n      term: term\n    });\n  }\n\n  handleKeyPress(e) {\n    if (e.key === 'Enter') {\n      this.search();\n    }\n  }\n\n  search() {\n    var term = this.state.term;\n    var that = this;\n    $.ajax({\n      type: \"POST\",\n      url: \"http://localhost:5000/api/search\",\n      data: {\n        searchTerm: that.state.term\n      },\n      success: function (res) {\n        console.log(res);\n      },\n      error: function (jqXHR, exception) {\n        debugger;\n      }\n    });\n    var matches = [];\n\n    if (term && term.length >= 3) {\n      matches = _.filter(questions.default, function (datum) {\n        return _.includes(datum.question, term) || _.includes(datum.shortQuestion, term);\n      });\n    }\n\n    this.setState({\n      matches: matches\n    });\n  }\n\n  render() {\n    var searchResults = null;\n\n    if (this.state.matches.length > 0) {\n      searchResults = _.map(this.state.matches, function (datum) {\n        return /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: 12,\n          style: {\n            textAlign: \"left\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 59\n          }\n        }, datum.question), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 84\n          }\n        }, datum.answer));\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fixed: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      className: \"bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, \"QQ\\u5E7B\\u60F3\\u5F00\\u5FC3\\u8F9E\\u5178\\u9898\\u5E93\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      className: \"input\",\n      inputProps: {\n        autoComplete: 'off'\n      },\n      id: \"outlined-basic\",\n      variant: \"outlined\",\n      label: \"\\u8BF7\\u8F93\\u5165\\u95EE\\u9898\",\n      onKeyPress: this.handleKeyPress,\n      onChange: this.updateTerm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        textAlign: \"left\",\n        margin: \"0\",\n        color: \"gray\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"\\u8BF7\\u81F3\\u5C11\\u8F93\\u5165\\u4E09\\u4E2A\\u5B57\\u7B26\\u6765\\u8FDB\\u884C\\u641C\\u7D22\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: \"10%\"\n      },\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 104\n      }\n    }, \"\\u641C\\u7D22\"))), searchResults)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/micha/projects/KXCD/client/src/App.js"],"names":["React","Component","questions","TextField","Container","Button","Grid","_","$","App","constructor","props","state","matches","updateTerm","bind","search","handleKeyPress","e","term","target","value","setState","key","that","ajax","type","url","data","searchTerm","success","res","console","log","error","jqXHR","exception","length","filter","default","datum","includes","question","shortQuestion","render","searchResults","map","textAlign","answer","autoComplete","margin","color","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport * as questions from './questionsJson.json';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as _ from 'lodash';\r\nimport * as $ from 'jquery';\r\nimport './App.css';\r\n\r\n\r\nclass  App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {matches: []};\r\n\t\tthis.updateTerm = this.updateTerm.bind(this);\r\n    this.search = this.search.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t}\r\n\t\r\n\tupdateTerm(e) {\r\n    var term = e.target.value;\r\n\r\n\t\tthis.setState({term: term});\r\n  }\r\n  \r\n  handleKeyPress(e) {\r\n    if(e.key === 'Enter'){\r\n      this.search();\r\n    }\r\n  }\r\n\t\r\n\tsearch() {\r\n\t\tvar term = this.state.term;\r\n\t\tvar that = this;\r\n\t\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: \"http://localhost:5000/api/search\",\r\n\t\t\tdata:{searchTerm: that.state.term},\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\t,\r\n\t\t\terror: function (jqXHR, exception) { \r\n\t\t\t\r\n\t\t\t\tdebugger;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar matches = [];\r\n\t\t\r\n\t\tif (term && term.length >= 3) {\r\n\t\t\tmatches = _.filter(questions.default, function(datum){\r\n\t\t\t\treturn _.includes(datum.question, term) || _.includes(datum.shortQuestion, term)\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({matches: matches});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar searchResults = null;\r\n\t\t\r\n\t\tif (this.state.matches.length > 0) {\r\n\t\t\tsearchResults = _.map(this.state.matches, function(datum){\r\n\t\t\t\treturn <Grid item xs={12} style={{textAlign: \"left\"}}><h3>{datum.question}</h3><p>{datum.answer}</p></Grid>\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n      <Container fixed>\r\n\r\n        <Grid container spacing={2} className=\"bg\">\r\n          <Grid item xs={12}>\r\n\t\t\t\t\t\t<h1 style={{textAlign: \"center\"}}>QQ幻想开心辞典题库</h1>\r\n\t\t\t\t\t</Grid>\r\n\r\n          <Grid item xs={3}></Grid>\r\n\r\n          <Grid item xs={6}>\r\n            <TextField className=\"input\" inputProps={{autoComplete: 'off'}} id=\"outlined-basic\" variant=\"outlined\" label=\"请输入问题\" onKeyPress={this.handleKeyPress} onChange={this.updateTerm}/>\r\n            <h4 style={{textAlign: \"left\", margin: \"0\", color: \"gray\"}}>请至少输入三个字符来进行搜索</h4>\r\n          </Grid>\r\n\r\n          <Grid item xs={3}></Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <Button style={{width: \"10%\"}} variant=\"contained\" color=\"secondary\" onClick={this.search}><b>搜索</b></Button>\r\n          </Grid>\r\n\r\n\t\t\t\t  {searchResults}\r\n\r\n        </Grid>\r\n      </Container>\r\n      </div>\r\n  );\r\n\t}\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}